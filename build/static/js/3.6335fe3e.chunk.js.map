{"version":3,"sources":["main/Button.js","main/Input.js","util/validators.js","main/auth/Auth.js","main/auth/Login.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","button","props","link","a","createElement","className","concat","design","mode","join","to","children","onClick","disabled","loading","type","input","formLink","Fragment","label","htmlFor","id","control","valid","touched","minLength","required","value","placeholder","onChange","e","target","files","onBlur","rows","checked","d","__webpack_exports__","length","email","trim","config","isValid","min","max","test","Auth","messageCheck","message","Object","keys","values","messageToDisplay","messageStyle","display","authMessage","error","pop","push","success","login","style","connect","state","console","log","order","err","auth","tokenId","userId","dispatch","onInitLogin","password","orderAction","_useState","useState","loginForm","validators","formIsValid","_useState2","_home_niscolinx_Desktop_main_dev_projects_coin_perfect_investment_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","setState","_useState3","_useState4","setMessage","useEffect","page","history","inputChangeHandler","prevState","_step","_iterator","_createForOfIteratorHelper","s","done","validator","f","updatedForm","_home_niscolinx_Desktop_main_dev_projects_coin_perfect_investment_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_niscolinx_Desktop_main_dev_projects_coin_perfect_investment_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","inputName","inputBlurHandler","react__WEBPACK_IMPORTED_MODULE_3___default","_Auth__WEBPACK_IMPORTED_MODULE_9__","onSubmit","preventDefault","_Input__WEBPACK_IMPORTED_MODULE_7__","bind","_Button__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"static/js/3.6335fe3e.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst button = (props) =>\r\n    !props.link ? (\r\n        <button\r\n            className={[\r\n                'button',\r\n                `button--${props.design}`,\r\n                `button--${props.mode}`,\r\n            ].join(' ')}\r\n            onClick={props.onClick}\r\n            disabled={props.disabled || props.loading}\r\n            type={props.type}\r\n        >\r\n            {props.loading ? 'Loading...' : props.children}\r\n        </button>\r\n    ) : (\r\n        <Link\r\n            className={[\r\n                'button',\r\n                `button--${props.design}`,\r\n                `button--${props.mode}`,\r\n            ].join(' ')}\r\n            to={props.link}\r\n        >\r\n            {props.children}\r\n        </Link>\r\n    )\r\n\r\nexport default button\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst input = (props) => {\r\n\r\n    const formLink = (\r\n        <>\r\n            <p className='form__linkText'>\r\n                I agree with the{' '}\r\n                <Link to='/' className='form__link'>\r\n                    Terms and Conditions\r\n                </Link>\r\n            </p>\r\n        </>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <div className='form'>\r\n                {props.label && (\r\n                    <label className='form__label' htmlFor={props.id}>\r\n                        {props.label !== 'checkbox' ? props.label : null}\r\n                    </label>\r\n                )}\r\n                {props.control === 'input' && (\r\n                    <input\r\n                        className={[\r\n                            'form__input',\r\n                            !props.valid && props.touched ? 'invalid' : 'valid',\r\n                          \r\n                        ].join(' ')}\r\n                        minLength={props.minLength}\r\n                        type={props.type}\r\n                        id={props.id}\r\n                        required={props.required}\r\n                        value={props.value}\r\n                        placeholder={props.placeholder}\r\n                        onChange={(e) =>\r\n                            props.onChange(\r\n                                props.id,\r\n                                e.target.value,\r\n                                e.target.files\r\n                            )\r\n                        }\r\n                        onBlur={props.onBlur}\r\n                    />\r\n                )}\r\n                {props.control === 'textarea' && (\r\n                    <textarea\r\n                        className={[\r\n                            'form__textarea',\r\n                            !props.valid ? 'invalid' : 'valid',\r\n                            props.touched ? 'touched' : 'untouched',\r\n                        ].join(' ')}\r\n                        id={props.id}\r\n                        rows={props.rows}\r\n                        required={props.required}\r\n                        value={props.value}\r\n                        onChange={(e) =>\r\n                            props.onChange(props.id, e.target.value)\r\n                        }\r\n                        onBlur={props.onBlur}\r\n                    />\r\n                )}\r\n            \r\n                {props.label && props.control === 'checkbox' && (\r\n                    <label className='form__checkboxLabel' htmlFor={props.id}>\r\n                        <input\r\n                            className={'form__checkbox'}\r\n                            id={props.id}\r\n                            type={props.type}\r\n                            onChange={(e) => {\r\n                                props.onChange(props.id, e.target.checked)\r\n                            }}\r\n                        />\r\n                        {props.label === 'checkbox' ? formLink : null}\r\n                    </label>\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default input\r\n","export const required = (value) => value.trim() !== ''\n\nexport const length = (config) => (value) => {\n    let isValid = true\n    if (config.min) {\n        isValid = isValid && value.trim().length >= config.min\n    }\n    if (config.max) {\n        isValid = isValid && value.trim().length <= config.max\n    }\n    return isValid\n}\n\nexport const email = (value) =>\n    /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\n        value\n    )\n","import React from 'react'\n\nconst Auth = (props) => {\n    let messageCheck = false\n\n    if (props.message) {\n        if (\n            Object.keys(props.message)[0] === 'error' ||\n            Object.keys(props.message)[0] === 'success'\n        ) {\n            if (Object.values(props.message)[0] !== null) {\n                messageCheck = true\n            }\n        } else {\n            messageCheck = false\n        }\n    }\n\n    let messageToDisplay = messageCheck ? Object.values(props.message) : null\n\n    const messageStyle = {\n        display: messageToDisplay ? 'block' : 'none',\n    }\n\n    const authMessage = ['auth__message']\n\n    if (messageToDisplay && props.message.error) {\n        authMessage.length > 1\n            ? authMessage.pop() && authMessage.push('auth__message--error')\n            : authMessage.push('auth__message--error')\n    }\n\n    if (messageToDisplay && props.message.success) {\n        authMessage.length > 1\n            ? authMessage.pop() && authMessage.push('auth__message--success')\n            : authMessage.push('auth__message--success')\n    }\n\n    return (\n        <section\n            className={props.login ? 'auth-form auth-form__login' : 'auth-form'}\n        >\n            <p className={authMessage.join(' ')} style={messageStyle}>\n                {messageToDisplay}\n            </p>\n            {props.children}\n        </section>\n    )\n}\n\nexport default Auth\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as orderAction from '../../store/actions/burgerIndex'\n\nimport Button from '../Button'\nimport Input from '../Input'\n\nimport { required, length, email } from '../../util/validators'\nimport Auth from './Auth'\n\nconst Login = (props) => {\n    const [state, setState] = useState({\n        loginForm: {\n            email: {\n                value: '',\n                valid: false,\n                touched: false,\n                validators: [required, email],\n            },\n            password: {\n                value: '',\n                valid: false,\n                touched: false,\n                validators: [required, length({ min: 6 })],\n            },\n            formIsValid: false,\n        },\n    })\n\n    const [message, setMessage] = useState(null)\n\n    useEffect(() => {\n        if (props.err) {\n            setMessage({\n                error:\n                    props.err.page === 'login'\n                        ? props.err.error[0].message\n                        : null,\n            })\n        } else if (props.tokenId) {\n            console.log('no auth err')\n\n            console.log('token id local storage', props.tokenId)\n\n            props.history.push('/admin/dashboard')\n            setMessage({\n                success: 'Success',\n            })\n        }\n    }, [props])\n\n    const inputChangeHandler = (input, value) => {\n        setState((prevState) => {\n            let isValid = true\n            for (const validator of prevState.loginForm[input].validators) {\n                isValid = isValid && validator(value)\n            }\n\n            const updatedForm = {\n                ...prevState.loginForm,\n                [input]: {\n                    ...prevState.loginForm[input],\n                    valid: isValid,\n                    value: value,\n                    touched: true,\n                },\n            }\n            let formIsValid = true\n            for (const inputName in updatedForm) {\n                if (\n                    inputName !== 'formIsValid' &&\n                    inputName !== '[object Object]'\n                ) {\n                    formIsValid = formIsValid && updatedForm[inputName].valid\n                }\n            }\n            return {\n                loginForm: updatedForm,\n                formIsValid: formIsValid,\n            }\n        })\n    }\n\n    const inputBlurHandler = (input) => {}\n\n    const handleLogin = (e) => {\n        e.preventDefault()\n        if (state.formIsValid) {\n            props.onInitLogin(\n                state.loginForm.email.value,\n                state.loginForm.password.value\n            )\n        } else {\n            console.log('invalid form')\n            setMessage({ error: 'Wrong Input, please check your entries' })\n        }\n    }\n\n    return (\n        <Auth login message={message}>\n            <form onSubmit={handleLogin}>\n                <Input\n                    id='email'\n                    label='E-Mail'\n                    type='email'\n                    control='input'\n                    onChange={inputChangeHandler}\n                    onBlur={inputBlurHandler.bind('email')}\n                    value={state.loginForm['email'].value}\n                    valid={state.loginForm['email'].valid}\n                    touched={state.loginForm['email'].touched}\n                />\n                <Input\n                    id='password'\n                    label='Password'\n                    type='password'\n                    control='input'\n                    minLength={6}\n                    onChange={inputChangeHandler}\n                    onBlur={inputBlurHandler.bind('password')}\n                    value={state.loginForm['password'].value}\n                    valid={state.loginForm['password'].valid}\n                    touched={state.loginForm['password'].touched}\n                />\n                <div className='form-btn'>\n                    <Button\n                        design='raised'\n                        type='submit'\n                        loading={props.loading}\n                    >\n                        Login\n                    </Button>\n                </div>\n            </form>\n        </Auth>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    console.log('the state', state)\n    return {\n        loading: state.order.loading,\n        err: state.auth.error,\n        tokenId: state.auth.tokenId,\n        userId: state.auth.userId,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onInitLogin: (email, password) =>\n            dispatch(orderAction.initLogin(email, password)),\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n"],"sourceRoot":""}