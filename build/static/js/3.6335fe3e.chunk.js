(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{507:function(e,n,t){"use strict";var a=t(1),r=t.n(a),o=t(17);n.a=function(e){return e.link?r.a.createElement(o.Link,{className:["button","button--".concat(e.design),"button--".concat(e.mode)].join(" "),to:e.link},e.children):r.a.createElement("button",{className:["button","button--".concat(e.design),"button--".concat(e.mode)].join(" "),onClick:e.onClick,disabled:e.disabled||e.loading,type:e.type},e.loading?"Loading...":e.children)}},508:function(e,n,t){"use strict";var a=t(1),r=t.n(a),o=t(17);n.a=function(e){var n=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"form__linkText"},"I agree with the"," ",r.a.createElement(o.Link,{to:"/",className:"form__link"},"Terms and Conditions")));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form"},e.label&&r.a.createElement("label",{className:"form__label",htmlFor:e.id},"checkbox"!==e.label?e.label:null),"input"===e.control&&r.a.createElement("input",{className:["form__input",!e.valid&&e.touched?"invalid":"valid"].join(" "),minLength:e.minLength,type:e.type,id:e.id,required:e.required,value:e.value,placeholder:e.placeholder,onChange:function(n){return e.onChange(e.id,n.target.value,n.target.files)},onBlur:e.onBlur}),"textarea"===e.control&&r.a.createElement("textarea",{className:["form__textarea",e.valid?"valid":"invalid",e.touched?"touched":"untouched"].join(" "),id:e.id,rows:e.rows,required:e.required,value:e.value,onChange:function(n){return e.onChange(e.id,n.target.value)},onBlur:e.onBlur}),e.label&&"checkbox"===e.control&&r.a.createElement("label",{className:"form__checkboxLabel",htmlFor:e.id},r.a.createElement("input",{className:"form__checkbox",id:e.id,type:e.type,onChange:function(n){e.onChange(e.id,n.target.checked)}}),"checkbox"===e.label?n:null)))}},509:function(e,n,t){"use strict";t.d(n,"c",function(){return a}),t.d(n,"b",function(){return r}),t.d(n,"a",function(){return o});var a=function(e){return""!==e.trim()},r=function(e){return function(n){var t=!0;return e.min&&(t=t&&n.trim().length>=e.min),e.max&&(t=t&&n.trim().length<=e.max),t}},o=function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)}},510:function(e,n,t){"use strict";var a=t(1),r=t.n(a);n.a=function(e){var n=!1;e.message&&("error"===Object.keys(e.message)[0]||"success"===Object.keys(e.message)[0]?null!==Object.values(e.message)[0]&&(n=!0):n=!1);var t=n?Object.values(e.message):null,a={display:t?"block":"none"},o=["auth__message"];return t&&e.message.error&&(o.length>1?o.pop()&&o.push("auth__message--error"):o.push("auth__message--error")),t&&e.message.success&&(o.length>1?o.pop()&&o.push("auth__message--success"):o.push("auth__message--success")),r.a.createElement("section",{className:e.login?"auth-form auth-form__login":"auth-form"},r.a.createElement("p",{className:o.join(" "),style:a},t),e.children)}},511:function(e,n,t){"use strict";t.r(n);var a=t(96),r=t(32),o=t(19),l=t(1),i=t.n(l),u=t(35),c=t(46),s=t(507),m=t(508),d=t(509),f=t(510);function g(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw o}}}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}n.default=Object(u.b)(function(e){return console.log("the state",e),{loading:e.order.loading,err:e.auth.error,tokenId:e.auth.tokenId,userId:e.auth.userId}},function(e){return{onInitLogin:function(n,t){return e(c.c(n,t))}}})(function(e){var n=Object(l.useState)({loginForm:{email:{value:"",valid:!1,touched:!1,validators:[d.c,d.a]},password:{value:"",valid:!1,touched:!1,validators:[d.c,Object(d.b)({min:6})]},formIsValid:!1}}),t=Object(o.a)(n,2),u=t[0],c=t[1],h=Object(l.useState)(null),b=Object(o.a)(h,2),v=b[0],p=b[1];Object(l.useEffect)(function(){e.err?p({error:"login"===e.err.page?e.err.error[0].message:null}):e.tokenId&&(console.log("no auth err"),console.log("token id local storage",e.tokenId),e.history.push("/admin/dashboard"),p({success:"Success"}))},[e]);var y=function(e,n){c(function(t){var o,l=!0,i=g(t.loginForm[e].validators);try{for(i.s();!(o=i.n()).done;){var u=o.value;l=l&&u(n)}}catch(d){i.e(d)}finally{i.f()}var c=Object(r.a)({},t.loginForm,Object(a.a)({},e,Object(r.a)({},t.loginForm[e],{valid:l,value:n,touched:!0}))),s=!0;for(var m in c)"formIsValid"!==m&&"[object Object]"!==m&&(s=s&&c[m].valid);return{loginForm:c,formIsValid:s}})},_=function(e){};return i.a.createElement(f.a,{login:!0,message:v},i.a.createElement("form",{onSubmit:function(n){n.preventDefault(),u.formIsValid?e.onInitLogin(u.loginForm.email.value,u.loginForm.password.value):(console.log("invalid form"),p({error:"Wrong Input, please check your entries"}))}},i.a.createElement(m.a,{id:"email",label:"E-Mail",type:"email",control:"input",onChange:y,onBlur:_.bind("email"),value:u.loginForm.email.value,valid:u.loginForm.email.valid,touched:u.loginForm.email.touched}),i.a.createElement(m.a,{id:"password",label:"Password",type:"password",control:"input",minLength:6,onChange:y,onBlur:_.bind("password"),value:u.loginForm.password.value,valid:u.loginForm.password.valid,touched:u.loginForm.password.touched}),i.a.createElement("div",{className:"form-btn"},i.a.createElement(s.a,{design:"raised",type:"submit",loading:e.loading},"Login"))))})}}]);
//# sourceMappingURL=3.6335fe3e.chunk.js.map